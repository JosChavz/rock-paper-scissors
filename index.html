<!DOCTYPE html>
<html>

    <head>
        <title>Newland's Rock Paper Scissors</title>
        <meta charset="UTF-8">
    </head>

    <body>
        <script>
            const possibilities = ["Rock", "Paper", "Scissors"]

            let computerSelection = possibilities[Math.floor(Math.random() * 3)]; // computer's choice; Randomly chooses one within "possibilities[]" range
            let playerSelection //player's choice

            //prompt for player's choice, if the players chooses something besides the three options, it stays in the loop
            while (true) {
                playerSelection = prompt("Rock, Paper or Scissors?").toLowerCase(); // Prompts, then lower cases the input 
                if (playerSelection == "rock" || playerSelection == "paper" || playerSelection == "scissors") {
                   break;
                }
               alert("Please, enter only one of the three options!")
            }

            // making it case insensitive
            playerSelection = 
                playerSelection.charAt(0).toUpperCase() // Grabs the first character of the string, and Uppercases
                + playerSelection.substring(1); // Substrings the 1st (2nd, actual) character to the last character

            function playOneRound(playerSelection, computerSelection) {
                var won; // Boolean is won or not, which will serve to fill the blanks in return statement

                if(playerSelection == computerSelection) return "The result is a tie!"; // If both options are the same

                switch(playerSelection) {
                    case 'Rock':
                        won = (computerSelection == 'Scissors'); // Rock wins against Scissors
                    break;
                    case 'Paper':
                        won = (computerSelection == 'Rock'); // Paper beats Rock
                    break;
                    case 'Scissors':
                        won = (computerSelection == 'Paper'); // Scissors beats Paper
                    break;
                }

                return "You " + ((won)?"won! ":"lost! ") + 
                ((won)? playerSelection: computerSelection) + " beats " + 
                ((won)? computerSelection: playerSelection) + ".";
            }

            alert(playOneRound(playerSelection, computerSelection))
        </script>
    </body>

</html>
