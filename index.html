<!DOCTYPE html>
<html>

    <head>
        <title>Newland's Rock Paper Scissors</title>
        <meta charset="UTF-8">
    </head>

    <body>
        <script>
            const possibilities = ["rock", "paper", "scissors"]

            //randomly returns rock, paper or scissors
            function computerPlay() {
                const random = possibilities[Math.floor(Math.random() * 3)]
                return random
            }

            let computerSelection = computerPlay() //computer's choice
            let playerSelection //player's choice

            //prompt for player's choice, if the players chooses something besides the three options, it stays in the loop
            while (true) {
                playerSelection = prompt("Rock, Paper or Scissors?")
                if (playerSelection.toLowerCase() == "rock" || playerSelection.toLowerCase() == "paper" || playerSelection.toLowerCase() == "scissors") {
                   break;
                }
               alert("Please, enter only one of the three options!")
            }

            //making it case insensitive
            if (playerSelection.toLowerCase() == "rock") {
               playerSelection = "Rock";
            }
           else if (playerSelection.toLowerCase() == "paper") {
               playerSelection = "Paper";
            }
           else if (playerSelection.toLowerCase() == "scissors") {
               playerSelection = "Scissors";
            }   

            function playOneRound(playerSelection, computerSelection) {
                if (playerSelection == "Rock") {
                    if (computerSelection == "Rock") {
                        return "The result is a tie!";
                    }
                    else if (computerSelection == "Paper") {
                        return "You lose! Paper beats Rock.";
                    }
                    else {
                        return "You win! Rock beats scissors.";
                    }
                }
                else if (playerSelection == "Paper") {
                    if (computerSelection == "Paper") {
                        return "The result is a tie!";
                    }
                    else if (computerSelection == "Rock") {
                        return "You win! Paper beats Rock.";
                    }
                    else {
                        return "You lose! Scissors beat Paper.";
                    }
                }
                else if (playerSelection == "Scissors") {
                    if (computerSelection == "Scissors") {
                        return "The result is a tie!";
                    }
                    else if (computerSelection == "Paper") {
                        return "You win! Scissors beat Paper.";
                    }
                    else {
                        return "You lose! Rock beats Scissors.";
                    }
                } 
            }

            alert(playOneRound(playerSelection, computerSelection))
        </script>
    </body>

</html>